// @flow
declare type $currency$any = number | string | currency;

declare type formatFunction = (currency: currency, options: $currency$opts) => string;

declare type intlFormatFunction = (currency: currency, options: $currency$intlOpts) => string;

declare type $currency$opts = {
  symbol?: string,
  separator?: string,
  decimal?: string,
  errorOnInvalid?: boolean,
  precision?: number,
  increment?: number,
  useVedic?: boolean,
  pattern?: string,
  negativePattern?: string,
  format?: formatFunction
}

declare type $currency$intlOpts = $currency$opts & {
  locale?: string,
  currency?: string
}

declare class currency {
  static (value: $currency$any, opts?: $currency$opts): currency;
  constructor(value: $currency$any, opts?: $currency$opts): currency;
  add(number: $currency$any): currency;
  subtract(number: $currency$any): currency;
  multiply(number: $currency$any): currency;
  divide(number: $currency$any): currency;
  distribute(count: number): Array<currency>;
  dollars(): number;
  cents(): number;
  format(options?: $currency$opts | formatFunction): string;
  toString(): string;
  toJSON(): number;
  +intValue: number;
  +value: number;
}

declare class currencyIntl extends currency {
  static (value: $currency$any, opts?: $currency$intlOpts): currencyIntl;
  constructor(value: $currency$any, opts?: $currency$intlOpts): currencyIntl;
  // format(options?: $currency$intlOpts | formatFunction): string;
}

declare module.exports: typeof currency;

declare module "currency.js/intl" {
  declare module.exports: typeof currencyIntl;
}
